<div class="comment" data-comment-id="<%= comment.id %>">
  <div class="comment-header">
    <span class="comment-author">
      <%= comment.user.name.presence || comment.user.email %>
    </span>
    <span class="comment-date">
      <%= time_ago_in_words(comment.created_at) %> ago
    </span>
  </div>
  <div class="comment-content">
    <%= simple_format(comment.content) %>
  </div>
  <div class="comment-actions">
    <% if user_signed_in? %>
      <% if current_user == comment.user %>
        <%= link_to "Delete", comment_path(comment), method: :delete, 
                    class: "comment-action danger", 
                    confirm: "Are you sure you want to delete this comment?",
                    remote: true %>
      <% elsif current_user.admin? %>
        <%= link_to "Delete (Admin)", comment_path(comment), method: :delete, 
                    class: "comment-action danger", 
                    confirm: "Are you sure you want to delete this comment?",
                    remote: true %>
      <% end %>
    <% end %>
  </div>
</div>
