<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="x-apple-disable-message-reformatting">
  <meta name="color-scheme" content="light">
  <meta name="supported-color-schemes" content="light">
  <title>Reset Your Password - The Daily Tolkien</title>
  <!--[if mso]>
  <noscript>
    <xml>
      <o:OfficeDocumentSettings>
        <o:PixelsPerInch>96</o:PixelsPerInch>
      </o:OfficeDocumentSettings>
    </xml>
  </noscript>
  <![endif]-->
  <style type="text/css">
    /* Base styles for email clients */
    body {
      margin: 0;
      padding: 0;
      -webkit-text-size-adjust: 100%;
      -ms-text-size-adjust: 100%;
    }
    table {
      border-collapse: collapse;
      mso-table-lspace: 0pt;
      mso-table-rspace: 0pt;
    }
    img {
      border: 0;
      height: auto;
      line-height: 100%;
      outline: none;
      text-decoration: none;
      -ms-interpolation-mode: bicubic;
    }
    /* Responsive styles */
    @media only screen and (max-width: 600px) {
      .email-container {
        width: 100% !important;
        min-width: 100% !important;
      }
      .mobile-padding {
        padding-left: 16px !important;
        padding-right: 16px !important;
      }
      .button-td {
        padding: 12px 20px !important;
      }
      .button-link {
        font-size: 16px !important;
      }
    }
    /* Dark mode support */
    @media (prefers-color-scheme: dark) {
      .body-bg {
        background-color: #1a1a1a !important;
      }
      .content-bg {
        background-color: #2d2d2d !important;
      }
      .text-primary {
        color: #f5f0e8 !important;
      }
      .text-secondary {
        color: #c9b8a0 !important;
      }
    }
  </style>
</head>
<body style="margin: 0; padding: 0; font-family: 'Source Sans Pro', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background-color: #f5f0e8;" class="body-bg">
  <!-- Preheader text (hidden but read by email clients) -->
  <div style="display: none; max-height: 0; overflow: hidden; mso-hide: all;" aria-hidden="true">
    Reset your password for The Daily Tolkien. This link expires in 6 hours.
  </div>
  
  <!-- Email Container -->
  <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%" style="background-color: #f5f0e8;" class="body-bg">
    <tr>
      <td style="padding: 40px 20px;">
        <!-- Main Content Table -->
        <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="600" align="center" class="email-container" style="margin: 0 auto; background-color: #ffffff; border-radius: 8px; box-shadow: 0 2px 8px rgba(61, 44, 29, 0.08);" class="content-bg">
          
          <!-- Header with Logo/Title -->
          <tr>
            <td style="padding: 40px 40px 32px; text-align: center; border-bottom: 2px solid #8b7355;" class="mobile-padding">
              <h1 style="margin: 0; font-family: 'Crimson Text', Georgia, serif; font-size: 32px; font-weight: 700; color: #3d2c1d; line-height: 1.2;" class="text-primary">
                The Daily Tolkien
              </h1>
            </td>
          </tr>
          
          <!-- Main Content -->
          <tr>
            <td style="padding: 40px 40px 32px;" class="mobile-padding">
              <!-- Greeting -->
              <p style="margin: 0 0 24px; font-size: 18px; line-height: 1.6; color: #3d2c1d;" class="text-primary">
                Hello,
              </p>
              
              <!-- Main Message -->
              <p style="margin: 0 0 24px; font-size: 16px; line-height: 1.6; color: #3d2c1d;" class="text-primary">
                We received a request to reset the password for your account (<strong><%= @resource.email %></strong>).
              </p>
              
              <p style="margin: 0 0 32px; font-size: 16px; line-height: 1.6; color: #3d2c1d;" class="text-primary">
                Click the button below to choose a new password:
              </p>
              
              <!-- CTA Button -->
              <table role="presentation" cellspacing="0" cellpadding="0" border="0" align="center" style="margin: 0 auto;">
                <tr>
                  <td class="button-td" style="border-radius: 6px; background: linear-gradient(135deg, #ffd700, #ffa500); padding: 16px 32px; text-align: center;">
                    <a href="<%= edit_password_url(@resource, reset_password_token: @token) %>" 
                       class="button-link"
                       target="_blank" 
                       rel="noopener noreferrer"
                       style="display: inline-block; font-family: 'Source Sans Pro', Arial, sans-serif; font-size: 18px; font-weight: 600; color: #3d2c1d; text-decoration: none; line-height: 1.4;"
                       role="button"
                       aria-label="Reset your password">
                      Reset My Password
                    </a>
                  </td>
                </tr>
              </table>
              
              <!-- Alternative Link -->
              <p style="margin: 32px 0 0; font-size: 14px; line-height: 1.6; color: #8b7355; text-align: center;" class="text-secondary">
                Or copy and paste this link into your browser:
              </p>
              <p style="margin: 8px 0 0; font-size: 13px; line-height: 1.6; color: #8b7355; text-align: center; word-break: break-all;" class="text-secondary">
                <%= edit_password_url(@resource, reset_password_token: @token) %>
              </p>
            </td>
          </tr>
          
          <!-- Security Notice -->
          <tr>
            <td style="padding: 0 40px 32px;" class="mobile-padding">
              <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%" style="background-color: #f5f0e8; border-radius: 6px; border-left: 4px solid #8b7355;">
                <tr>
                  <td style="padding: 20px;">
                    <p style="margin: 0 0 12px; font-size: 15px; font-weight: 600; color: #3d2c1d; line-height: 1.4;" class="text-primary">
                      <span aria-hidden="true">ðŸ”’</span> Security Information
                    </p>
                    <p style="margin: 0 0 8px; font-size: 14px; line-height: 1.5; color: #3d2c1d;" class="text-primary">
                      â€¢ This link will expire in <strong>6 hours</strong>
                    </p>
                    <p style="margin: 0 0 8px; font-size: 14px; line-height: 1.5; color: #3d2c1d;" class="text-primary">
                      â€¢ You can only use this link once
                    </p>
                    <p style="margin: 0; font-size: 14px; line-height: 1.5; color: #3d2c1d;" class="text-primary">
                      â€¢ Your password won't change until you create a new one
                    </p>
                  </td>
                </tr>
              </table>
            </td>
          </tr>
          
          <!-- Didn't Request Notice -->
          <tr>
            <td style="padding: 0 40px 40px;" class="mobile-padding">
              <p style="margin: 0; font-size: 14px; line-height: 1.6; color: #8b7355;" class="text-secondary">
                If you didn't request a password reset, you can safely ignore this email. Your password will remain unchanged.
              </p>
            </td>
          </tr>
          
          <!-- Footer -->
          <tr>
            <td style="padding: 24px 40px; background-color: #f5f0e8; border-top: 1px solid #e0d5c7; border-radius: 0 0 8px 8px;" class="mobile-padding">
              <p style="margin: 0 0 8px; font-size: 13px; line-height: 1.5; color: #8b7355; text-align: center;" class="text-secondary">
                Â© <%= Time.current.year %> The Daily Tolkien. All rights reserved.
              </p>
              <p style="margin: 0; font-size: 13px; line-height: 1.5; color: #8b7355; text-align: center;" class="text-secondary">
                You're receiving this email because you have an account with us.
              </p>
            </td>
          </tr>
          
        </table>
        <!-- End Main Content Table -->
      </td>
    </tr>
  </table>
  <!-- End Email Container -->
</body>
</html>
